#!/usr/bin/env bash

blu='\033[1;36m'
clr='\033[0m'

echo "$${blu}[Tessellation]$${clr} Setting up user_data"

mkdir -p /tmp/l0
chown ${user}:${user} /tmp/l0
mkdir -p /tmp/l1
chown ${user}:${user} /tmp/l1

mkdir -p --mode 0700 /home/${user}/.ssh
touch /home/${user}/.ssh/authorized_keys
echo "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDuv40fdWOq9h6axo3x4KXJMxvukVFbwUzb+5fvZ2GWKTDjamDOChNx1PF+MfGP30ooxyT+//Ep3vjNDpNbFEqMwCwxb7ehtg76PYtNMc1Ic4xiOfcKiDTl2+ljZxo5IbNgvMc2lZh1mH3uz9lLynRBwLOJjnfVQJmDIqkFgbmxEv30gEZBTEIvSgBup5FnIH23ZSrSEOvNc9+w595SxSI7jCmPafe+U0Uazy4mnA0gVKUjlz3KlXuLfapEyrHhyzqirqgVsk+QRCZUnxHZAxT4mTqGlFRv4HsHoW1nIzq+NV7nnCPQ5HqwbzsrPb0LYwY2oWPzAvn5Fy+ZXmjzUMul327ePcki/c/PoVsvrywSO9t/1ePPs+gb294q5Qu4gUR7fGdpwsFUBWhEdibt/n7OgSau8OGDah/IdhZPuWGmqphOvYrXzb3f4PTJJbpAPKeknsZAWGUaYKNIWnqyeZREDxVyDqrhTBq1xuUlNfFg9AsoU0Jc6w2bjj7pLMIiIZaAmO9kczZaQTFgF6ai3t6OsZ20hvZzrZ4cwRAOWV/Zusv76SiqUwoQdij2awT71ppQPqh9W3RguV+fQgNZuFW0DmqvLs9Ngkg8XjETE1M9fu7O+5dBMuxzDqFB2TWvfE2UkxSXV9PNcqzYwhuCH9/x8V1RjLoRocmN9GwZA9GWCQ== marcin"  >> /home/${user}/.ssh/authorized_keys
echo "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDb6+HQ2Q7zF2gchJZY0Ys1Q9q38xn8h/XJXFfxPyREeMuHr3lialiksDkfeXFtDl6DIzuiabCeFH8fJjfErHFZL82V9QiXmXqBov60DuTl1yWm8S2PN1Nf8ytoMnElqfOx+6Trk4QnbBVbgWt/d3BiUr3rZPSxEjgJjSTsEvbQSBqytwIWZIZF380wy1520rvRb6DsL/JfMDKcyh/NKtwa+P8gaIlSR0OqRJD2zDLr4S1x0SaAYY4cfJ0XohjqqcYSJ9MWD9RblOsi91SdO6rKrAG0gRKROn57oCicUYiitq38O6X5BqoEoV0201b4cwIo6VzkYSyI8DgFD3cwn5aJ mwadon" >> /home/${user}/.ssh/authorized_keys
echo "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDCccp+KaGy2Je5mv0BWfRMz1cCRHYohdDWxhjulaC12iJXL7dCcNRC4vav6fufwgats/HhMiVDhyrt5YLOPrOiOZUHaxnkEUJHmC+yyIgq+EDl2VB6Ply3Um2yNxJBWzkJgcwISSgGyzq+BhlhB/+XWPTI7katJfsjnYJLp2Dcdiq8JwrUpYwtaTuAenGowieCUvrKPitKLQsHfq+/i0HLSLieWUn0+gi0/0xvMUo1hRBhq322OGNlIkvdWb8eD488FN3PL6pX9ppeb9SGWZfFaJgYld+9FabwNssfAbfe//Q5srYi4u50rGcY16yVMoj95jkTF7NdbF18L9WvxJT9 wyatt" >> /home/${user}/.ssh/authorized_keys
echo "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIMkNLjrCOWXi2rDzZOQ4swAUF0Org4WCWO6tWJJPPOdp krystian.pudlik@gmail.com" >> /home/${user}/.ssh/authorized_keys
echo "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDyi0dg38es68HLzI3QXNMKbHkHn0y3MHfkEPuRv4ub+f+IJQrb2/I/U/gqhtQWAzYsZSXfpWvsKSe5magBsiEEYO5977GzUmxjgzAeYZnOuLhOIvVHr8oidIAPHcShg1SDiXYynoybBCKpwi5ljDUtIylPIWe7Ngdk1zqXC9CH1wnWNkoP4BS6cYgriflz5mIt2jZlLnc3Ob4bkn4gc90NCVN7UI2POCbQ0OVlCoBR3TcGQZSnM1j4SN75EZ5Yjo7X+zRcNBVESJ9QZXHvDS1IuLmYatIRI7dieYnwtt3VPDzagYugjsQwK8vc/+0yvF9ZplEBZVCh0T8jdzZLmqRp drusinek@securing" >> /home/${user}/.ssh/authorized_keys
echo "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDAwWdwYkbA6oP5AhiypWu+si/1sSIprZHiq1fhjTLXsiBjjtcPzyvPZg+BJcoELfCI0X9UpH2Oatc7Pvy4ueVZK/dlvoukOHjKrel64jxPc0LriQz1v5W7KPfrVXTlt6KDQc5UvYdNGIr0a97HgBuGmLCnL8U1/DAfDr5BhbHquxxwX8V5uo7a9Sdv/OUhiYrzEg5DseRHDgQXhPpqbwhEcE4G8hfYo1HR4G2BscGvHhGiIfXbuDEthjpcvtaEWuwvtYGqfUVv5jdksS5JPG/QbA4CGQN01P43zfrStiHrtTB6yxuP86xUg2StdlVPdhZvdWF9wS8wZKcbeOQUSI8FfY8PIx0rSA/6cLPEwCRfIq9H5A+W03Z04XVMliJEZh4yMQT5MoP181lg0KbJUpFlHZ/0tk0UsHN8/Hw8LW2GFCfefY5u+akiI5g+7bQqxBnpMVgJgXaA/pXiOBtWnQ1j7ClPGFgxUNfZ8aPdNWvn7VLYmafYdFo6GC/9RoekzeWRVBMYmvjkjaALrCxHELAWFUc0uif4a0vMdzFgl4dfoJQKVlK0qtyRbN5AsKNRaGt9By/A9JjjhdQjJjz+lnYn8Q5yoPqjgfTetNN3obS0qMT9Jfve0Z1ppQ8Pzb7G0DoHSS11vHIJPDJONm3aJDxMh62dyZ6iJr85fAm2bbLZAQ== wh01s@EDHELLOND" >> /home/${user}/.ssh/authorized_keys
echo "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC2SuJR+F27sxULFauiSGEVSmw46leQkDJJ5Jv2pkq3ThCZpLaMn1Lg9EAvqk5dz4rWHG33xNFTJ8pzQKHip0n40LLIN9io9KjaBvN04Vxa10rZ1xkJA8QkEhOY6HKMAxdl12xejx+GBAPnFdpRUDb2PyKYFvyfyWtgJDzcEJt+EASz20jLNZVRaHZJAK5ew+WZX18PiEzGWFNBntgngAkwLM16QP0n9KrBJgC9fvryKrmy1qF6Ev2Kol6SSJ03DT1gE6hGDlpLVxo2cOoWZErfz7f26EdtusSQ+xZn7GCiJL0hg5mSGT7yNdbLm0cu29FJiGrW2vz3t1HR1R9Tk47fcGD6O0qcpqUrKO4GeXiqnoADYR0myDzrjcQBRWmYdSjo3NTMVaFK4XDJZvJkkDvi6d22KAf+acAZIJlXMtNo/zzaqJlo0gRVzcnY1iqy/rVOp4ru024v1e+Y6PVwyxe6KtYKC+e8uniI0zjiyKdkrvaboTqIaO0rlcYx86lF4GR9a3JbRQZl7TlpQZlHKyUuHD37h09SjQWNJJTYu34TKfkP05bW4pLs9pplRsJ+uk80nF1L1d4iwf/x9wFKCQzb89k1RJtU61YWUZZ/1dddvbNwCk4kF9+MyW+T+9nhm99HvSCDobhaqlk3rV1ZOx2OobuFGk1hoY7B8ftskgRPUw== tbekas" >> /home/${user}/.ssh/authorized_keys
echo "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC6u/gRQj+OC2sjf5GadpyyKlNtNB21kAnGiXn4XCs4YLq8LzntMGElcB2Fm8j9K0nX5gjQ+ZacavlMQ8SilwIezcqgdzHleNlLOeoWVYWPYCo2JvQ2yt78It6SCfGGZwZJQ0/CwXLjXyy20qR30QTS4TMwHc58BXxJy3c6RExLrzyfPT/qQzITr/5kn24CYOhUceBMLItfMtx9XfYfqO18l4xQV7uSFGlPwFP8JMeQfy+Q+F/gWem2VmZDLQh+HsA4cve8N/km95MyPurMI4qGVMUI4hf0AYh7WB6DbmFAzWGglYvXopIoEsxowd7mia7wn1VU1LWsQXHBOABsc5wSWfETtA1lkHXecKI7r7UOs4Pg+hxwZAiJVyCFGKXP+y2cE+dmDcqX7fl9bpcAGgnDtFf2ROWfHNm9m4Zrgl3TioKV270/ngH3GOQmi++dX3tu68XRRDRu3XYh1K4PaVOPCWZBDVEkV6bC9bdVHDHh/xnp6XLIo/V1BhRRzm0vap+gHHU1oB0nEV9Ttnv/uIjGXfOKEZa5/WxF9eDd3Uwa0xfxTzbrILdOuX4Jn+CL6ekbN8yAnR+IAwFV4Z23XnVbaa2pXvdL3MSHTMCsVXbbv3N9bfMVLKoTUIb9DdFKZBSydHwLhfKs4uYmFhum2Vb2kUMo3jam+Ui1mGz5FS/OZw== build-robot" >> /home/${user}/.ssh/authorized_keys
echo "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQD6A0DXzRCjyFd3i92faj5+G8LffN2BUfE31XI8FEkW2hteX1ClvV0XglG4kVH4Qc961RINbuX6RI61l6RFzcymN7f4AQdqcAePZZTwh2bp4nuGykHuzP6ZSQhNHyYLTkcz9isH595VaW5U0mWoDXg+VeVu9WqfCyONV1htc0Vu6HqCu0fA2011RKyclOVjhnYPL5KleIusEt7nQDVotXvlml5rhpj8xvvvmwoNaQ6F9533ytcm1fu0FbQB4OcEXpP85YHLRWNgISvvLM7eH1Sqs/U6Zv8cmnxmViwkN7kaVltTG23wQRJu35q8epeFYY5W9FcFgMWNeaWs6+7yHg/1aRzTMewYtj7dyT3oZVh5YgjwFwZ2mB8+MYgjYqwPszsOKyyr1QpK23Xieo1C8zV0/F4Ls+PPB3+ooUyx1q+dssRwXW0qLRwTh+sUgcyhwdXSlGj+UTgUMSqOSQ+dGpgDXW6XwDsPqkK+FVd2RZNoFSVFFOablGtsSp3WZSNPlH0= krzysiek" >> /home/${user}/.ssh/authorized_keys
echo "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCHqoBzuWzQ4YOJGE/rXdFmH+2rjLh9d6es6GSEK/+mnAvORLMaB57vY7GvIdWjgOW/V/x5K6QNN5aqDUCYFbqv+HSzJsU/TgdGxmeYqcEp6y1UIldn8H8fTlxNBI/uO6EwQpxQHj3dSelCMVg8g7mIR1/Gbx6t3bByAIOyQMYfvpJH5Q6m4KLXdrplkOTPMRSH0N2aDo0rt/K9JOWl3LGN5uAjsEFNeXUyj+9d+tpxhUqB2zNZPiXDngEX0F/baiMlwrvFcrvS0cgCZ5GmFBKsEg1XYU0C3tz+lbQHEgdIpowDef8Dp6lO+p4DbV2LzMa8WyM6ZQcqLveS2sodZNIH cl-dmuskat" >> /home/${user}/.ssh/authorized_keys
echo "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDIRZF1pMb4XUhmB+pqLLraHCSPv+yW731rE51yF3gRDiBl7SEDyzLAnBWn99kUuBLJzJML3iEqZYj1PyzkDH5UNQWmk57lolLAV0/9m+NJlD6sUevH8/n9xNJ+rzlRLJS0p2XcTfuinPXicmPBo5QHOPab4UVGc8s4CI1KjyGYmSfGfXgrQzvxPJN7Y7oEW1X8KAB7F+HcGZAEz2BO6W7ya1FCVTn+07qCIZGUHsUhOMradcrCsA+B1zpebAIq0Ilz/imbHJXkjeB0g2wfdCFMi9XqbGUC20TRJQ1+ScrnC+aycX6iIvubk/k+xQ3hg87vSQPyFC0nKc5rrxOcduWd alex@getdor.com" >> /home/${user}/.ssh/authorized_keys
echo "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC5xHJlgR+XAdzkLLj2K7+bcbqQwW+H8IOgBL60btlrrSs6SiQynNtDOdCVaOHHiAunDrLCW65YdNL62yDYaNWPYlTPsLBakWsAwha7p1r105WCef60NnZXg56raG6riyMZ9t2Tx7pN4LonYVygp3vaoBf9wuLVi5VV+MkCS5nTDK5IfPNln304YYARL6bXvKsiTbAH2dC1NldI0gZeppdvtlAZDSTAMhY6BHAVBHchTkYvAmlXgau+cNb6gyuzUoWqrnzLkVpNpTdLs6wLlDO60JHOr4XRUn0ZAtQaXC+9KGw9y5qUR99ePYugvgqOqQ5FiW7mIt5BBa9N7VKZb3SaeUM1izCkMCs7fSua/UgAho39siuchOGy7SHLYuPXKHi1tVsgnjloFDMMmAOB2ztUC3g9N1//RxR1AsR1ANKgEoOVHgmAUK24G1Xz1tgUUI5SCsDNI+4iJ8QS0aLQh3SLfZHthDSk+xQ6ovXJV9KZMgtTpIv9KH8zNaOgAdt6zrM= marcus@constellationnetwork.io" >> /home/${user}/.ssh/authorized_keys
echo "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDwNFTKjk+FFrvx/SceaoLYPWv+YWgjj23kxy3baFFeR69ylrlgHfC/9W/6slmYmbmVn9K+Y/y0LRwT7VHqLhpNPIzkvh7EgoZkMzmOVVQDvlleUXrNc3wrDyAI6bRa273RlA7lm8L1cjxPWVFJA47uKjhSrYlAjXbDOqI5og6/aISS62N0TzURV00nfnqYcgaH1QQGzxZsU3u37pkOBDgGcvAig4qkdRKvZhhp36s/tqjAyjGynEFnmJPOWeHu/qN1CnRaWGaKGrpjVRTAhNwKXXxB3A43t0F4r88zdb+1DIW9Dc7x6tqRUWWk8/d+vRIk4uzT+pr47LZSvGEgNI7ugr/ycObNdYs0UM+gVw+rvfYGXcOBbZf06hEqSqAt/sWipVTl8yFTWHcLcHFDNoi8CNQj5fm3I6b1VM8PgDTSA/Jv3dykI5Hjr5w1zy+J/btFPjiu9SDPNpiGHK6JGplBZYlcnXi2D7BT5NC9wc1J6WiGR2M0MeY0QJ2u1LweT62MOCOXKskjvrZTP8oywPEEwXQnoxoX62Q02x03dnksdQ9c2CYcOqE/4vY6awnqPNlyRug8pYlrKJ2yojR8tZWHPwLMvQEWyMJg0w9KkYqpR2xwyEPn4OlaHei68jbqL+xUhTWVMAOGse5BCFvjcyFoTgB1CGqaW/bjJP06J1vfnQ== juan@juan-ps-ws" >> /home/${user}/.ssh/authorized_keys
echo "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCdM1rqfutAXdMi6Rt0G1E6jC1zmFRpzcVxUUXj/RMgIybDUO7IiAwmIjWwu2ootcZwS9W0/Guus8St+OglqsO0MCeQA0clGWWpSI/tlUsevp/6uw4txrjBhmAvxm2xEcL4W66BS4sq4hfOhzagZBTAF3cC8BCsWQkBj811usWykWgzuAV766hmMV9Eeq9fqpggDr1IqQzPFV3o+w2DkXfhc/beqWy6ef95/Wpwf3hhf8Vmo2wgF+c6JcdMCYbz5N5Rl4z/EaroOY2EKcEY3LHnRYgxIrR10LV/3frhODOWVdHp0D2L136yrXxYXH4r9cJJ55+brTagk4ZpYI+TKsVMjp4WfyusB3qT6347TrUtrhXbGlSAbfGoToDlh4t0FIRtLj+DoG3dfC62DdW+knrt8fd8trX4dE/W43oG0YCSNYuRh4CJhcqpuIvb9/t07MRrVz0LFbtsZbksNnuux3tqZWRDlZpBv3I+FQBdCofFHKfCUipTq7qQErye2euphm0uELJw8e2llpJ9Ru55Q6UB4T2PeorFgljphG3YIKvwWB+OABPjh71mqrOum3T4s6OK0oslQr5SEHEZ8Db9v/uHBx3md/ycL9dMXEhCt8C2ZYAkYb6A5fd1IFScxCOqe7ZO6cDKwExV5XmzSU8wGMMWWYNebzkfvdyNvxX33GxX/Q== maciek" >> /home/${user}/.ssh/authorized_keys

chown ${user}:${user} /home/${user}/.ssh/authorized_keys
chmod 0600 /home/${user}/.ssh/authorized_keys
